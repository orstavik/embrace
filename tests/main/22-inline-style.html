<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>22 - Conditional Inline Style</title>
    <style>
        :root {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --border: #334155;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background: var(--bg-color);
            color: var(--text-main);
            padding: 40px;
            margin: 0;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 800px;
        }

        h1 {
            font-size: 2.25rem;
            margin-bottom: 2rem;
            font-weight: 800;
            color: #f8fafc;
        }

        .project-card {
            background: var(--card-bg);
            border: 1px solid var(--border);
            padding: 24px;
            border-radius: 12px;
            margin-bottom: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .project-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .project-name {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background: #334155;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            transition: width 0.3s ease;
        }

        .priority-label {
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
    </style>
</head>

<body>
    <div id="app" class="container">
        <!--:: ;-->
        <h1>${$.title}</h1>
        <!--:: for($.p of $.projects) -->
        <div class="project-card" style="border-left: 4px solid ${$.p.isUrgent ? '#ef4444' : '#3b82f6'}">
            <div class="project-header">
                <span class="project-name">${$.p.name}</span>
                <span class="priority-label"
                    style="color: ${$.p.priority === 'High' ? '#f87171' : ($.p.priority === 'Medium' ? '#fbbf24' : '#60a5fa')}">
                    Priority: ${$.p.priority}
                </span>
            </div>

            <div class="progress-container">
                <div class="progress-bar"
                    style="width: ${$.p.progress}%; background: ${$.p.progress === 100 ? '#22c55e' : ($.p.progress > 50 ? '#3b82f6' : '#f59e0b')}">
                </div>
            </div>

            <div style="font-size: 0.875rem; color: var(--text-muted); text-align: right;">
                ${$.p.progress}% Complete
            </div>
        </div>
        <!--::-->
        <!--::-->
    </div>

    <script type="module" id="DollarDotsCompile" src="/src/DDCompile6.js#qs=#app&dd=/src/DD6.js&id=DollarDotsCompile"></script>
    <script type="module">
        import { renderUnder } from "/src/DDRender61.js";

        const data = {
            "title": "Project Status Dashboard",
            "projects": [
                {
                    "name": "Engine Refactor",
                    "progress": 85,
                    "priority": "High",
                    "isUrgent": true
                },
                {
                    "name": "Documentation",
                    "progress": 40,
                    "priority": "Low",
                    "isUrgent": false
                },
                {
                    "name": "Test Suite",
                    "progress": 100,
                    "priority": "Medium",
                    "isUrgent": false
                },
                {
                    "name": "UI Overhaul",
                    "progress": 15,
                    "priority": "High",
                    "isUrgent": true
                }
            ]
        };
        renderUnder(document.getElementById("app"), data);
    </script>
</body>

</html>