<h1>hello</h1>
<!--:: if($.header)  -->
<h2 alice="${$.bob.join(',')}">hello ${$.sunshine}</h2>
<h2>hello ${$.world}</h2>

<!--:: if($ . text) for($.a of $.alice) for($.b of $.bob) -->
<p>${$.text} - alice likes: ${$.a} bob likes: ${$.b}</p>
<!--::-->

<!--::-->
<h2>world</h2>

<script type="importmap">
  {
    "imports": {
      "DollarDots": "/DollarDots.js?external=Diff",
      "Diff": "https://cdn.jsdelivr.net/gh/orstavik/making-a@25.09.12/difference.js"
    }
  }
</script>
<script type="module" src="/auto.js"></script>
<script type="module">
  import { renderUnder } from "DollarDots";

  const state = Object.freeze({
    sunshine: "sunny sunshine",
    world: "beautiful world",
    text: "text",
    header: true,
    bob: ["red", "green", "blue"],
    alice: ["red", "green", "blue"],
  });
  while (renderUnder(document.body, state))
    await new Promise(requestAnimationFrame);
</script>