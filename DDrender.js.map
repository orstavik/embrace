{"version":3,"file":"DDrender.js","sources":["src/DD.js","src/DDFocusRestorer.js","src/DDrender.js"],"sourcesContent":["const dollarDots = {};\n\nfunction mapInnerDefs(innerHydras) {\n  const res = new Map();\n  for (let i = 0; i < innerHydras.length; i++) {\n    if (innerHydras[i].Def) {\n      res.set(innerHydras[i].Def, [[i]]);\n      for (let innerInnerDef of innerHydras[i].Def.innerDefs.keys()) {\n        const innerInnerDefPositions = res.get(innerInnerDef);\n        if (innerInnerDefPositions) {\n          const innerInnerDefPositionsFromOuterPointOfView = innerInnerDefPositions.map(pos => [i, ...pos]);\n          let myInnerInnerDefPositions = res.get(innerInnerDef);\n          myInnerInnerDefPositions ?\n            myInnerInnerDefPositions.push(...innerInnerDefPositionsFromOuterPointOfView) :\n            res.set(innerInnerDef, innerInnerDefPositionsFromOuterPointOfView);\n        }\n      }\n    }\n  }\n  return res;\n}\n\nexport function register(template) {\n  const el = document.createElement(\"template\");\n  el.innerHTML = template.templateString;\n  template.docFrag = el.content;\n  delete template.templateString;\n  template.innerHydras = template.innerHydras.map(({ id, path, hydra }) => ({\n    id,\n    path,\n    hydra,\n    Def: getDefinition(id),\n  }));\n  template.position = Object.keys(dollarDots).length;\n  template.innerDefs = mapInnerDefs(template.innerHydras);\n  Object.freeze(dollarDots[template.id] = template);\n}\n\nexport function getDefinition(id) {\n  return dollarDots[id];\n}\n\nexport function getDefinitions() {\n  return { ...dollarDots };\n}\n\nconst resolvePath = (root, path) => path.reduce((n, i) =>\n  typeof i == \"string\" ? n.getAttributeNode(i) : n.childNodes[i], root);\n\nexport function getInstance(Def) {\n  const root = Def.docFrag.cloneNode(true);\n  const start = root.firstChild;\n  const nodes = Def.innerHydras.map(({ path, Def }) => {\n    const start = resolvePath(root, path);\n    const end = Def ? start.nextSibling : undefined;\n    return { start, end };\n  });\n  const innerHydras = Def.innerHydras;\n  return { start, innerHydras, nodes };\n}\n\nexport function findEndComment(start) {\n  const commas = [];\n  for (let end = start.nextSibling, depth = 0; end; end = end.nextSibling)\n    if (end.nodeType === Node.COMMENT_NODE) {\n      const endTxt = end.nodeValue.trim();\n      if (!depth && endTxt == \"::\")\n        return { end, commas: [start, ...commas, end] };\n      if (!depth && endTxt == \"::,\")\n        commas.push(end);\n      if (endTxt == \"::\")\n        depth--;\n      else if (endTxt.startsWith(\":: \"))\n        depth++;\n    }\n}\n\nexport function* findDollarDots(node) {\n  const traverser = document.createTreeWalker(node, NodeFilter.SHOW_ALL, null, false);\n  for (let node; node = traverser.nextNode();) {\n    const txt = node.nodeValue?.trim();\n    if (node.nodeType === Node.COMMENT_NODE && txt.startsWith(\":: \")) {\n      const id = txt.match(/^::\\s+(id_[0-9a-f]{32})\\s*$/i)?.[1];\n      let { end, commas } = findEndComment(node) ?? {};\n      if (!end) { //implicit close at endOf siblings\n        end = document.createComment(\"::\");\n        node.parentNode.append(end);\n      }\n      const templ = { start: node, end, commas, id };\n      traverser.currentNode = templ.end;\n      yield templ;\n    } else if (node.nodeType === Node.ELEMENT_NODE) {\n      for (let attr of node.attributes)\n        if (attr.value.indexOf(\"${\") >= 0)\n          yield { start: attr };\n    } else if (txt.indexOf(\"${\") >= 0)\n      yield { start: node };\n  }\n}\n\nexport function* findRunnableTemplates(root) {\n  for (let n of findDollarDots(root))\n    if (n.id)   //todo we need to retry not yet available templates\n      yield n;\n}","function SelectionRestorer(active) {\n  const okInputTypes = /text|search|password|tel|url|email/i;\n  if (active.tagName == \"TEXTAREA\" || (active.tagName == \"INPUT\" && okInputTypes.test(active.type))) {\n    const { selectionStart, selectionEnd, selectionDirection } = active;\n    if (selectionStart != null)\n      return active => active.setSelectionRange(selectionStart, selectionEnd, selectionDirection);\n  }\n}\n\nexport function FocusSelectionRestorer(root) {\n  const { id, tagName, type, name, value } = document.activeElement;\n  const selection = SelectionRestorer(document.activeElement);\n\n  if (id)\n    return () => {\n      const active = root.querySelector(`#${CSS.escape(id)}`);\n      if (!active)\n        return;\n      active.focus();\n      selection?.(active);\n    };\n\n  let q = tagName;\n  if (/input|textarea|select/i.test(tagName)) {\n    if (name) q += `[name=\"${CSS.escape(name)}\"]`;\n    if (type) q += `[type=\"${CSS.escape(type)}\"]`;\n  } else {\n    const contenteditable = document.activeElement.getAttribute(\"contenteditable\");\n    const tabindex = document.activeElement.getAttribute(\"tabindex\");\n    if (contenteditable) q += `[contenteditable=\"${CSS.escape(contenteditable)}\"]`;\n    if (tabindex) q += `[tabindex=\"${CSS.escape(tabindex)}\"]`;\n  }\n\n  const equalInputs = [...root.querySelectorAll(q)]\n    .filter(n => n.value === value)\n    .indexOf(document.activeElement);\n\n  return function () {\n    const active = [...root.querySelectorAll(q)].filter(n => n.value === value)[equalInputs];\n    if (!active)\n      return;\n    active.focus();\n    selection?.(active);\n  };\n}","import { getDefinition, findRunnableTemplates, getInstance, getDefinitions } from \"./DD.js\";\nimport { FocusSelectionRestorer } from \"./DDFocusRestorer.js\";\nimport { diffRaw as diff } from \"https://cdn.jsdelivr.net/gh/orstavik/making-a@25.09.12/difference.js\";\n\nfunction moveNodes(first, last, target) {\n  for (let n = first, next; n != last; n = next)\n    next = n.nextSibling, target.after(n), (target = n);\n  last && target.after(last);\n}\n\nfunction removeNodes(first, last) {\n  for (let n = first, next; n != last; n = next)\n    next = n.nextSibling, n.remove();\n  last.remove();\n}\n\nconst tupleMap = {};\nconst tuplify = obj => (!obj || typeof obj !== 'object') ? obj : (tupleMap[JSON.stringify(obj)] ??= obj);\n\nfunction* extractMatch(set1, set2, test) {\n  for (let fillable of set1)\n    for (let reusable of set2)\n      if (!test || test(fillable, reusable)) {\n        set1.delete(fillable), set2.delete(reusable);\n        yield { fillable, reusable };\n        break;\n      }\n}\n\nfunction renderDefValues(state, Def) {\n  const $ = Object.assign(state instanceof Array ? [] : {}, state);\n  const values = [];\n  Def.hydra($, function run() {\n    const innerValues = Def.innerHydras.map(inner =>\n      inner.Def ? renderDefValues($, inner.Def) : inner.hydra($));\n    values.push(tuplify(innerValues.map(tuplify)));\n  });\n  return values;\n}\n\nclass Stamp {\n  #start;\n  #value;\n  #nodes;\n\n  constructor(start, value) {\n    this.#start = start;\n    this.#value = value;\n  }\n\n  get start() { return this.#start; }\n  get value() { return this.#value; }\n  get nodes() { return this.#nodes; }\n\n  hydrate(Def, prevValue) {\n    const res = [];\n    for (let i = 0; i < this.#nodes.length; i++) {\n      const { Def: insideDef, hydra } = Def.innerHydras[i];\n      const { start, end } = this.#nodes[i];\n      const value = this.#value?.[i];\n      const oldValue = prevValue?.[i];\n      if (oldValue != value) {\n        if (insideDef) {\n          start.stampGroup ??= StampGroup.make(insideDef, start, end);\n          const change = start.stampGroup.update(value);\n          change && res.push(change);\n        } else\n          start.nodeValue = value;\n      }\n    }\n    return res;\n  }\n\n  fill({ start, last, nodes }) {\n    if (this.#nodes)\n      throw new Error(\"Stamp can only be filled once\");\n    this.#nodes = nodes;\n    moveNodes(start.nextSibling, last, this.#start);\n    start.remove();  //it doesn't matter if the start is connected or not..\n    return this;\n  }\n}\n\nclass StampGroup {\n  #Def;\n  #start;\n  #end;\n  #values;\n  #stamps = [];\n  get Def() { return this.#Def; }\n  get stamps() { return this.#stamps; }\n\n  static make(Def, start, end) {\n    const n = new StampGroup();\n    n.#Def = Def;\n    n.#end = end;\n    n.#start = start;\n    n.#start.stampGroup = n; //todo this is spaghettish..\n    return n;\n  }\n\n  update(newValues) {\n    if (!newValues?.length)\n      newValues = undefined;\n    if (this.#values == newValues)\n      return;\n    const fillables = [], reusables = [], newStamps = [];\n    const diffs = diff(this.#values ?? [], newValues ?? []);\n    for (let { a, b } of diffs) {\n      if (b.length == a.length) {\n        newStamps.push(...this.#stamps.splice(0, a.length));\n      } else if (b.length) {\n        const cs = b.map(_ => document.createComment(\"::,\"));\n        const stamps = cs.map((c, i) => new Stamp(c, b[i]));\n        (this.#stamps[0]?.start ?? this.#end).before(...cs);\n        newStamps.push(...stamps);\n        fillables.push(...stamps);\n      } else if (a.length) {\n        //makes Stamps reusable by adding .last= \"last content node of the stamp\"\n        for (let i = 0; i < a.length; i++)\n          this.#stamps[i].last = (this.#stamps[i + 1]?.start ?? this.#end).previousSibling;\n        reusables.push(...this.#stamps.splice(0, a.length));\n      }\n    }\n    this.#values = newValues;\n    this.#stamps = newStamps;\n    return { fillables, reusables, Def: this.#Def };\n  }\n}\n\nclass UnusedStampsMap {\n  #map = new Map();\n  add(Def, reusables) { this.#map.set(Def, reusables); }\n\n  static resolveNestedStamps(nodePositions, i, stamp, result) {\n    for (let nodeIs of nodePositions[i]) {\n      for (let nodeI of nodeIs) {\n        const groupNode = stamp.nodes[nodeI];\n        const stampGroup = groupNode.stampGroup;\n        if (nodeIs.length === 1)\n          result.push(...stampGroup.stamps);\n        else\n          for (let innerStamp of stampGroup.stamps)\n            UnusedStampsMap.resolveNestedStamps(nodePositions, i + 1, innerStamp, result);\n      }\n    }\n  }\n\n  extractUnusedInnerReusables(targetDef) {\n    const res = [];\n    for (let [outerDef, stamps] of this.#map.entries()) {\n      const nodePositions = outerDef.innerDefs.get(targetDef);\n      if (nodePositions != null)\n        for (let stamp of stamps)\n          UnusedStampsMap.resolveNestedStamps(nodePositions, 0, stamp, res);\n    }\n    return res;\n  }\n\n  * all() {\n    for (let reusables of this.#map.values())\n      for (let reusable of reusables)\n        if (reusable.start.isConnected)\n          yield reusable;\n  }\n}\n\nclass StampMap {\n  #fillables = new Map();\n  #reusables = new Map();\n\n  add(todo) {\n    const { Def, fillables, reusables } = todo;\n    let fs, rs;\n    fs = this.#fillables.get(Def);\n    rs = this.#reusables.get(Def);\n    if (!fs) {\n      this.#fillables.set(Def, fs = []);\n      this.#reusables.set(Def, rs = []);\n    }\n    fs.push(...fillables);\n    rs.push(...reusables);\n  }\n\n  addAll(todos) {\n    for (let todo of todos)\n      todo && this.add(todo);\n  }\n\n  extractOutermostDefGroup() {\n    if (!this.#fillables.size)\n      return;\n    const Def = this.#fillables.keys().reduce((a, b) => a.position > b.position ? a : b);\n    const fillables = new Set(this.#fillables.get(Def));\n    const reusables = new Set(this.#reusables.get(Def));\n    this.#fillables.delete(Def);\n    this.#reusables.delete(Def);\n    return { Def, fillables, reusables };\n  }\n}\n\nconst IdenticalValues = (f, r) => f.value === r.value;\nconst IdenticalInnerArrays = (f, r) => f.value.every((v, i) => typeof v === 'string' || v === r.value[i])\n\nfunction reuseAndInstantiateIndividualStamps(todos) {\n  let globalNotUsed = new UnusedStampsMap();\n  let todo;\n  while (todo = todos.extractOutermostDefGroup()) {\n    const { Def, fillables, reusables } = todo;\n\n    //2b. here we can dig inside globalNotUsed for stamps with the current Def. \n    if (fillables.size > reusables.size) {\n      const innerReusables = globalNotUsed.extractUnusedInnerReusables(Def);\n      for (let r of innerReusables)\n        reusables.add(r);\n    }\n\n    //2. fill stamps with reusables with the exact same value.\n    for (let { fillable, reusable } of extractMatch(fillables, reusables, IdenticalValues))\n      fillable.fill(reusable);\n\n    //3. ligthWeight matches all with identical inner arrays. These matches will only change (text, comments, attribute).nodeValue\n    for (let { fillable, reusable } of extractMatch(fillables, reusables, IdenticalInnerArrays))\n      fillable.fill(reusable).hydrate(Def, reusable.value);\n\n    //4. heavyWeight. reuse and hydrate complex mismatches\n    for (let { fillable, reusable } of extractMatch(fillables, reusables))\n      todos.addAll(fillable.fill(reusable).hydrate(Def, reusable.value));\n\n    //5. create new stamp instance and hydrate for the rest\n    for (let fillable of fillables)\n      todos.addAll(fillable.fill(getInstance(Def)).hydrate(Def));\n\n    globalNotUsed.add(Def, reusables);\n  }\n\n  for (let { start, last } of globalNotUsed.all())\n    removeNodes(start, last);\n}\n\nlet rootStampGroups = new WeakMap();\nexport function renderUnder(root, state) {\n\n  const restoreFocus = root.contains(document.activeElement) && FocusSelectionRestorer(root);\n  let stampGroups = rootStampGroups.get(root);\n  if (!stampGroups) {\n    stampGroups = [];\n    for (let { start, id, end, Def = getDefinition(id) } of findRunnableTemplates(root))\n      stampGroups.push(StampGroup.make(Def, start, end));\n    rootStampGroups.set(root, stampGroups);\n  }\n  const todos = new StampMap();\n  todos.addAll(stampGroups.map(g => g.update(renderDefValues(state, g.Def))));\n\n  reuseAndInstantiateIndividualStamps(todos);\n\n  restoreFocus && !root.contains(document.activeElement) && restoreFocus();\n  return todos.length;\n}\n\nexport { getDefinitions };"],"names":["diff"],"mappings":"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"}